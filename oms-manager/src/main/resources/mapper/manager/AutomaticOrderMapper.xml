<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="cn.szag.oms.manager.common.dao.manager.AutomaticOrderMapper">
	<resultMap id="BaseResultMap"
		type="cn.szag.oms.manager.common.domain.manager.OrderImport">
		<id column="id" jdbcType="CHAR" property="id" />
		<result column="order_no" jdbcType="VARCHAR" property="orderNo" />
		<result column="customer_name" jdbcType="VARCHAR" property="customerName" />
		<result column="transport_way" jdbcType="VARCHAR" property="transportWay" />
		<result column="domestic_consignee" jdbcType="VARCHAR"
			property="domesticConsignee" />
		<result column="overseas_shipper" jdbcType="VARCHAR" property="overseasShipper" />
		<result column="extract_order_num" jdbcType="VARCHAR" property="extractOrderNum" />
		<result column="origin_country" jdbcType="VARCHAR" property="originCountry" />
		<result column="dest_country" jdbcType="VARCHAR" property="destCountry" />
		<result column="departure_port" jdbcType="VARCHAR" property="departurePort" />
		<result column="dest_port" jdbcType="VARCHAR" property="destPort" />
		<result column="product" jdbcType="VARCHAR" property="product" />
		<result column="entry_port" jdbcType="VARCHAR" property="entryPort" />
		<result column="createtime" jdbcType="TIMESTAMP" property="createtime" />
		<result column="creator_id" jdbcType="VARCHAR" property="creatorId" />
		<result column="creator" jdbcType="VARCHAR" property="creator" />
		<result column="creator_tel" jdbcType="VARCHAR" property="creatorTel" />
		<result column="support_staff" jdbcType="VARCHAR" property="supportStaff" />
		<result column="support_staff_tel" jdbcType="VARCHAR" property="supportStaffTel" />
		<result column="del_flag" jdbcType="INTEGER" property="delFlag" />
		<result column="order_status" jdbcType="INTEGER" property="orderStatus" />
		<result column="cert_status" jdbcType="INTEGER" property="certStatus" />
		<result column="order_placer" jdbcType="VARCHAR" property="orderPlacer" />
		<result column="company_code" jdbcType="VARCHAR" property="companyCode" />
		<result column="order_placer_type" jdbcType="VARCHAR" property="orderPlacerType" />
		<result column="inspect_need" jdbcType="INTEGER" property="inspectNeed" />
		<result column="clearance_need" jdbcType="INTEGER" property="clearanceNeed" />
		<result column="transport_need" jdbcType="INTEGER" property="transportNeed" />
		<result column="payment_need" jdbcType="INTEGER" property="paymentNeed" />
		<result column="advance_need" jdbcType="INTEGER" property="advanceNeed" />
		<result column="consumer_org" jdbcType="VARCHAR" property="consumerOrg" />
		<result column="company_id" jdbcType="VARCHAR" property="companyId" />
		<result column="salesman" jdbcType="VARCHAR" property="salesman" />
		<result column="salesman_tel" jdbcType="VARCHAR" property="salesmanTel" />
		<result column="order_source" jdbcType="VARCHAR" property="orderSource" />
		<result column="closing_per" jdbcType="VARCHAR" property="closingPer" />
		<result column="closing_date" jdbcType="TIMESTAMP" property="closingDate" />
		<result column="creator_company" jdbcType="VARCHAR" property="creatorCompany" />
		<result column="cus_advice_date" jdbcType="TIMESTAMP" property="cusAdviceDate" />
		<result column="agent" jdbcType="VARCHAR" property="agent" />
		<result column="agent_advice_date" jdbcType="TIMESTAMP"
			property="agentAdviceDate" />
		<result column="box_no" jdbcType="VARCHAR" property="boxNo" />
		<result column="worklist_no" jdbcType="VARCHAR" property="worklistNo" />
		<result column="payment_order_no" jdbcType="VARCHAR" property="paymentOrderNo" />
		<result column="afffirm_date" jdbcType="TIMESTAMP" property="afffirmDate" />
		<result column="handling_suggestion" jdbcType="VARCHAR"
			property="handlingSuggestion" />
		<result column="check_time" jdbcType="TIMESTAMP" property="checkTime" />
		<result column="supplement_time" jdbcType="TIMESTAMP" property="supplementTime" />
		<result column="extend_type" jdbcType="VARCHAR" property="extendType" />
		<result column="updater_id" property="updaterId" jdbcType="VARCHAR" />
		<result column="update_time" property="updateTime" jdbcType="TIMESTAMP" />
		<result column="goodsType" property="goodstype" jdbcType="INTEGER" />
	</resultMap>
	<resultMap id="ResultMapWithBLOBs"
		type="cn.szag.oms.manager.common.domain.manager.OrderImport" extends="BaseResultMap">
		<result column="remark" property="remark" jdbcType="LONGVARCHAR" />
	</resultMap>
	<sql id="Base_Column_List">
		id,
		order_no,
		customer_name,
		transport_way,
		domestic_consignee
		as domesticConsigneeId,
		overseas_shipper as
		overseasShipperId,
		extract_order_num,
		origin_country as
		originCountryId,
		dest_country as
		destCountryId,
		departure_port as departurePortId,
		dest_port as
		destPortId,
		product,
		entry_port as entryPortId,
		createtime,
		creator_id,
		creator,
		creator_tel,
		support_staff as supportStaffId,
		support_staff_tel,
		del_flag,
		order_status, cert_status, order_placer,
		company_code,
		order_placer_type,
		inspect_need, clearance_need,
		transport_need,
		payment_need, advance_need,
		consumer_org as
		consumerOrgId,
		company_id,
		salesman salesmanId,
		salesman_tel,
		order_source, closing_per, closing_date,
		creator_company,
		cus_advice_date, agent agentId, agent_advice_date, box_no,
		worklist_no, payment_order_no,
		afffirm_date, handling_suggestion,
		check_time, supplement_time,
		extend_type, trueCustomerId,
		updater_id,
		update_time,
		goodsType
	</sql>
	<sql id="Blob_Column_List">
		remark
	</sql>

	<delete id="deleteByPrimaryKey" parameterType="java.lang.String">
		delete from
		order_import
		where id = #{id,jdbcType=CHAR}
	</delete>
	<insert id="insert"
		parameterType="cn.szag.oms.manager.common.domain.manager.OrderImport">
		insert into order_import (id,
		order_no,
		customer_name,
		transport_way, domestic_consignee, overseas_shipper,
		extract_order_num, origin_country, dest_country,
		departure_port,
		dest_port, product,
		entry_port, createtime, creator_id,
		creator,
		creator_tel, support_staff,
		support_staff_tel, del_flag, order_status,
		cert_status, order_placer, company_code,
		order_placer_type,
		inspect_need, clearance_need,
		transport_need, payment_need,
		advance_need,
		consumer_org, company_id, salesman,
		salesman_tel,
		order_source, closing_per,
		closing_date, creator_company,
		cus_advice_date,
		agent, agent_advice_date, box_no,
		worklist_no,
		payment_order_no, afffirm_date,
		handling_suggestion, check_time,
		supplement_time,
		extend_type, trueCustomerId, updater_id,
		update_time,
		remark,goodsType)
		values (#{id,jdbcType=CHAR},
		#{orderNo,jdbcType=VARCHAR},
		#{customerName,jdbcType=VARCHAR},
		#{transportWay,jdbcType=VARCHAR},
		#{domesticConsigneeId,jdbcType=VARCHAR},
		#{overseasShipperId,jdbcType=VARCHAR},
		#{extractOrderNum,jdbcType=VARCHAR},
		#{originCountry,jdbcType=VARCHAR}, #{destCountryId,jdbcType=VARCHAR},
		#{departurePortId,jdbcType=VARCHAR}, #{destPortId,jdbcType=VARCHAR},
		#{product,jdbcType=VARCHAR},
		#{entryPortId,jdbcType=VARCHAR},
		#{createtime,jdbcType=TIMESTAMP}, #{creatorId,jdbcType=VARCHAR},
		#{creator,jdbcType=VARCHAR}, #{creatorTel,jdbcType=VARCHAR},
		#{supportStaffId,jdbcType=VARCHAR},
		#{supportStaffTel,jdbcType=VARCHAR},
		#{delFlag,jdbcType=INTEGER},
		#{orderStatus,jdbcType=INTEGER},
		#{certStatus,jdbcType=INTEGER},
		#{orderPlacer,jdbcType=VARCHAR},
		#{companyCode,jdbcType=VARCHAR},
		#{orderPlacerType,jdbcType=VARCHAR},
		#{inspectNeed,jdbcType=INTEGER},
		#{clearanceNeed,jdbcType=INTEGER},
		#{transportNeed,jdbcType=INTEGER},
		#{paymentNeed,jdbcType=INTEGER},
		#{advanceNeed,jdbcType=INTEGER},
		#{consumerOrgId,jdbcType=VARCHAR},
		#{companyId,jdbcType=VARCHAR},
		#{salesmanId,jdbcType=VARCHAR},
		#{salesmanTel,jdbcType=VARCHAR},
		#{orderSource,jdbcType=VARCHAR},
		#{closingPer,jdbcType=VARCHAR},
		#{closingDate,jdbcType=TIMESTAMP},
		#{creatorCompany,jdbcType=VARCHAR},
		#{cusAdviceDate,jdbcType=TIMESTAMP},
		#{agentId,jdbcType=VARCHAR},
		#{agentAdviceDate,jdbcType=TIMESTAMP}, #{boxNo,jdbcType=VARCHAR},
		#{worklistNo,jdbcType=VARCHAR}, #{paymentOrderNo,jdbcType=VARCHAR},
		#{afffirmDate,jdbcType=TIMESTAMP},
		#{handlingSuggestion,jdbcType=VARCHAR},
		#{checkTime,jdbcType=TIMESTAMP}, #{supplementTime,jdbcType=TIMESTAMP},
		#{extendType,jdbcType=VARCHAR}, #{trueCustomerId,jdbcType=VARCHAR},
		#{updaterId,jdbcType=VARCHAR},
		#{updateTime,jdbcType=TIMESTAMP},
		#{remark,jdbcType=LONGVARCHAR},
		#{goodstype,jdbcType=INTEGER})
	</insert>
	<insert id="insertSelective"
		parameterType="cn.szag.oms.manager.common.domain.manager.OrderImport">
		insert into order_import
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="trueCustomerId != null">
				trueCustomerId,
			</if>
			<if test="id != null">
				id,
			</if>
			<if test="orderNo != null">
				order_no,
			</if>
			<if test="customerName != null">
				customer_name,
			</if>
			<if test="transportWay != null">
				transport_way,
			</if>
			<if test="domesticConsigneeId != null">
				domestic_consignee,
			</if>
			<if test="overseasShipperId != null">
				overseas_shipper,
			</if>
			<if test="extractOrderNum != null">
				extract_order_num,
			</if>
			<if test="originCountryId != null">
				origin_country,
			</if>
			<if test="destCountryId != null">
				dest_country,
			</if>
			<if test="departurePortId != null">
				departure_port,
			</if>
			<if test="destPortId != null">
				dest_port,
			</if>
			<if test="product != null">
				product,
			</if>
			<if test="entryPortId != null">
				entry_port,
			</if>
			<if test="createtime != null">
				createtime,
			</if>
			<if test="creatorId != null">
				creator_id,
			</if>
			<if test="creator != null">
				creator,
			</if>
			<if test="creatorTel != null">
				creator_tel,
			</if>
			<if test="supportStaffId != null">
				support_staff,
			</if>
			<if test="supportStaffTel != null">
				support_staff_tel,
			</if>
			<if test="delFlag != null">
				del_flag,
			</if>
			<if test="orderStatus != null">
				order_status,
			</if>
			<if test="certStatus != null">
				cert_status,
			</if>
			<if test="orderPlacer != null">
				order_placer,
			</if>
			<if test="companyCode != null">
				company_code,
			</if>
			<if test="orderPlacerType != null">
				order_placer_type,
			</if>
			<if test="inspectNeed != null">
				inspect_need,
			</if>
			<if test="clearanceNeed != null">
				clearance_need,
			</if>
			<if test="transportNeed != null">
				transport_need,
			</if>
			<if test="paymentNeed != null">
				payment_need,
			</if>
			<if test="advanceNeed != null">
				advance_need,
			</if>
			<if test="consumerOrg != null">
				consumer_org,
			</if>
			<if test="companyId != null">
				company_id,
			</if>
			<if test="salesmanId != null">
				salesman,
			</if>
			<if test="salesmanTel != null">
				salesman_tel,
			</if>
			<if test="orderSource != null">
				order_source,
			</if>
			<if test="closingPer != null">
				closing_per,
			</if>
			<if test="closingDate != null">
				closing_date,
			</if>
			<if test="creatorCompany != null">
				creator_company,
			</if>
			<if test="cusAdviceDate != null">
				cus_advice_date,
			</if>
			<if test="agentId != null">
				agent,
			</if>
			<if test="agentAdviceDate != null">
				agent_advice_date,
			</if>
			<if test="boxNo != null">
				box_no,
			</if>
			<if test="worklistNo != null">
				worklist_no,
			</if>
			<if test="paymentOrderNo != null">
				payment_order_no,
			</if>
			<if test="afffirmDate != null">
				afffirm_date,
			</if>
			<if test="handlingSuggestion != null">
				handling_suggestion,
			</if>
			<if test="checkTime != null">
				check_time,
			</if>
			<if test="supplementTime != null">
				supplement_time,
			</if>
			<if test="extendType != null">
				extend_type,
			</if>
			<if test="remark != null">
				remark,
			</if>
			<if test="goodstype != null">
				goodsType,
			</if>


		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="trueCustomerId != null">
				#{trueCustomerId,jdbcType=VARCHAR},
			</if>
			<if test="id != null">
				#{id,jdbcType=CHAR},
			</if>
			<if test="orderNo != null">
				#{orderNo,jdbcType=VARCHAR},
			</if>
			<if test="customerName != null">
				#{customerName,jdbcType=VARCHAR},
			</if>
			<if test="transportWay != null">
				#{transportWay,jdbcType=VARCHAR},
			</if>
			<if test="domesticConsigneeId != null">
				#{domesticConsigneeId,jdbcType=VARCHAR},
			</if>
			<if test="overseasShipperId != null">
				#{overseasShipperId,jdbcType=VARCHAR},
			</if>
			<if test="extractOrderNum != null">
				#{extractOrderNum,jdbcType=VARCHAR},
			</if>
			<if test="originCountryId != null">
				#{originCountryId,jdbcType=INTEGER},
			</if>
			<if test="destCountryId != null">
				#{destCountryId,jdbcType=VARCHAR},
			</if>
			<if test="departurePortId != null">
				#{departurePortId,jdbcType=VARCHAR},
			</if>
			<if test="destPortId != null">
				#{destPortId,jdbcType=VARCHAR},
			</if>
			<if test="product != null">
				#{product,jdbcType=VARCHAR},
			</if>
			<if test="entryPortId != null">
				#{entryPortId,jdbcType=VARCHAR},
			</if>
			<if test="createtime != null">
				#{createtime,jdbcType=TIMESTAMP},
			</if>
			<if test="creatorId != null">
				#{creatorId,jdbcType=VARCHAR},
			</if>
			<if test="creator != null">
				#{creator,jdbcType=VARCHAR},
			</if>
			<if test="creatorTel != null">
				#{creatorTel,jdbcType=VARCHAR},
			</if>
			<if test="supportStaffId != null">
				#{supportStaffId,jdbcType=VARCHAR},
			</if>
			<if test="supportStaffTel != null">
				#{supportStaffTel,jdbcType=VARCHAR},
			</if>
			<if test="delFlag != null">
				#{delFlag,jdbcType=INTEGER},
			</if>
			<if test="orderStatus != null">
				#{orderStatus,jdbcType=INTEGER},
			</if>
			<if test="certStatus != null">
				#{certStatus,jdbcType=INTEGER},
			</if>
			<if test="orderPlacer != null">
				#{orderPlacer,jdbcType=VARCHAR},
			</if>
			<if test="companyCode != null">
				#{companyCode,jdbcType=VARCHAR},
			</if>
			<if test="orderPlacerType != null">
				#{orderPlacerType,jdbcType=VARCHAR},
			</if>
			<if test="inspectNeed != null">
				#{inspectNeed,jdbcType=INTEGER},
			</if>
			<if test="clearanceNeed != null">
				#{clearanceNeed,jdbcType=INTEGER},
			</if>
			<if test="transportNeed != null">
				#{transportNeed,jdbcType=INTEGER},
			</if>
			<if test="paymentNeed != null">
				#{paymentNeed,jdbcType=INTEGER},
			</if>
			<if test="advanceNeed != null">
				#{advanceNeed,jdbcType=INTEGER},
			</if>
			<if test="consumerOrgId != null">
				#{consumerOrgId,jdbcType=VARCHAR},
			</if>
			<if test="companyId != null">
				#{companyId,jdbcType=VARCHAR},
			</if>
			<if test="salesmanId != null">
				#{salesmanId,jdbcType=VARCHAR},
			</if>
			<if test="salesmanTel != null">
				#{salesmanTel,jdbcType=VARCHAR},
			</if>
			<if test="orderSource != null">
				#{orderSource,jdbcType=VARCHAR},
			</if>
			<if test="closingPer != null">
				#{closingPer,jdbcType=VARCHAR},
			</if>
			<if test="closingDate != null">
				#{closingDate,jdbcType=TIMESTAMP},
			</if>
			<if test="creatorCompany != null">
				#{creatorCompany,jdbcType=VARCHAR},
			</if>
			<if test="cusAdviceDate != null">
				#{cusAdviceDate,jdbcType=TIMESTAMP},
			</if>
			<if test="agentId != null">
				#{agentId,jdbcType=VARCHAR},
			</if>
			<if test="agentAdviceDate != null">
				#{agentAdviceDate,jdbcType=TIMESTAMP},
			</if>
			<if test="boxNo != null">
				#{boxNo,jdbcType=VARCHAR},
			</if>
			<if test="worklistNo != null">
				#{worklistNo,jdbcType=VARCHAR},
			</if>
			<if test="paymentOrderNo != null">
				#{paymentOrderNo,jdbcType=VARCHAR},
			</if>
			<if test="afffirmDate != null">
				#{afffirmDate,jdbcType=TIMESTAMP},
			</if>
			<if test="handlingSuggestion != null">
				#{handlingSuggestion,jdbcType=VARCHAR},
			</if>
			<if test="checkTime != null">
				#{checkTime,jdbcType=TIMESTAMP},
			</if>
			<if test="supplementTime != null">
				#{supplementTime,jdbcType=TIMESTAMP},
			</if>
			<if test="extendType != null">
				#{extendType,jdbcType=VARCHAR},
			</if>
			<if test="remark != null">
				#{remark,jdbcType=LONGVARCHAR},
			</if>
			<if test="goodstype != null">
				#{goodstype,jdbcType=INTEGER},
			</if>

		</trim>
	</insert>
	<update id="updateByPrimaryKeySelective"
		parameterType="cn.szag.oms.manager.common.domain.manager.OrderImport">
		update order_import
		<set>
			<if test="orderNo != null and orderNo !=  '' ">
				order_no = #{orderNo,jdbcType=VARCHAR},
			</if>
			<if test="customerName != null and customerName !=  ''">
				customer_name = #{customerName,jdbcType=VARCHAR},
			</if>
			<if test="transportWay != null and transportWay !=  '' ">
				transport_way = #{transportWay,jdbcType=VARCHAR},
			</if>
			<if test="domesticConsigneeId != null  and domesticConsigneeId !=  '' ">
				domestic_consignee =
				#{domesticConsigneeId,jdbcType=VARCHAR},
			</if>
			<if test="overseasShipperId != null and overseasShipper !=  '' ">
				overseas_shipper = #{overseasShipperId,jdbcType=VARCHAR},
			</if>
			<if test="extractOrderNum != null and extractOrderNum !=  ''">
				extract_order_num = #{extractOrderNum,jdbcType=VARCHAR},
			</if>
			<if test="originCountryId != null and originCountry !=  '' ">
				origin_country = #{originCountryId,jdbcType=INTEGER},
			</if>
			<if test="destCountryId != null and destCountryId !=  '' ">
				dest_country = #{destCountryId,jdbcType=VARCHAR},
			</if>
			<if test="departurePortId != null and departurePortId !=  '' ">
				departure_port = #{departurePortId,jdbcType=VARCHAR},
			</if>
			<if test="destPortId != null and destPortId !=  '' ">
				dest_port = #{destPortId,jdbcType=VARCHAR},
			</if>
			<if test="product != null and product !=  '' ">
				product = #{product,jdbcType=VARCHAR},
			</if>
			<if test="entryPortId != null and entryPortId !=  '' ">
				entry_port = #{entryPortId,jdbcType=VARCHAR},
			</if>
			<if test="createtime != null ">
				createtime = #{createtime,jdbcType=TIMESTAMP},
			</if>
			<if test="creatorId != null and creatorId !=  '' ">
				creator_id = #{creatorId,jdbcType=VARCHAR},
			</if>
			<if test="creator != null and creator !=  '' ">
				creator = #{creator,jdbcType=VARCHAR},
			</if>
			<if test="creatorTel != null and creatorTel !=  '' ">
				creator_tel = #{creatorTel,jdbcType=VARCHAR},
			</if>
			<if test="supportStaffId != null and supportStaffId !=  '' ">
				support_staff = #{supportStaffId,jdbcType=VARCHAR},
			</if>
			<if test="supportStaffTel != null and supportStaffTel !=  '' ">
				support_staff_tel = #{supportStaffTel,jdbcType=VARCHAR},
			</if>
			<if test="delFlag != null">
				del_flag = #{delFlag,jdbcType=INTEGER},
			</if>
			<if test="orderStatus != null">
				order_status = #{orderStatus,jdbcType=INTEGER},
			</if>
			<if test="certStatus != null">
				cert_status = #{certStatus,jdbcType=INTEGER},
			</if>
			<if test="orderPlacer != null and orderPlacer !=  ''">
				order_placer = #{orderPlacer,jdbcType=VARCHAR},
			</if>
			<if test="companyCode != null and companyCode !=  ''">
				company_code = #{companyCode,jdbcType=VARCHAR},
			</if>
			<if test="orderPlacerType != null and orderPlacerType !=  ''">
				order_placer_type = #{orderPlacerType,jdbcType=VARCHAR},
			</if>
			<if test="inspectNeed != null">
				inspect_need = #{inspectNeed,jdbcType=INTEGER},
			</if>
			<if test="clearanceNeed != null">
				clearance_need = #{clearanceNeed,jdbcType=INTEGER},
			</if>
			<if test="transportNeed != null">
				transport_need = #{transportNeed,jdbcType=INTEGER},
			</if>
			<if test="paymentNeed != null">
				payment_need = #{paymentNeed,jdbcType=INTEGER},
			</if>
			<if test="advanceNeed != null">
				advance_need = #{advanceNeed,jdbcType=INTEGER},
			</if>
			<if test="consumerOrgId != null and consumerOrgId !=  ''">
				consumer_org = #{consumerOrgId,jdbcType=VARCHAR},
			</if>
			<if test="companyId != null and companyId !=  ''">
				company_id = #{companyId,jdbcType=VARCHAR},
			</if>
			<if test="salesmanId != null and salesmanId !=  ''">
				salesman = #{salesmanId,jdbcType=VARCHAR},
			</if>
			<if test="salesmanTel != null and salesmanTel !=  ''">
				salesman_tel = #{salesmanTel,jdbcType=VARCHAR},
			</if>
			<if test="orderSource != null">
				order_source = #{orderSource,jdbcType=VARCHAR},
			</if>
			<if test="closingPer != null and closingPer !=  ''">
				closing_per = #{closingPer,jdbcType=VARCHAR},
			</if>
			<if test="closingDate != null">
				closing_date = #{closingDate,jdbcType=TIMESTAMP},
			</if>
			<if test="creatorCompany != null and creatorCompany !=  ''">
				creator_company = #{creatorCompany,jdbcType=VARCHAR},
			</if>
			<if test="cusAdviceDate != null">
				cus_advice_date = #{cusAdviceDate,jdbcType=TIMESTAMP},
			</if>
			<if test="agentId != null and agentId !=  ''">
				agent = #{agentId,jdbcType=VARCHAR},
			</if>
			<if test="agentAdviceDate != null and agentAdviceDate !=  ''">
				agent_advice_date =
				#{agentAdviceDate,jdbcType=TIMESTAMP},
			</if>
			<if test="boxNo != null and boxNo !=  ''">
				box_no = #{boxNo,jdbcType=VARCHAR},
			</if>
			<if test="worklistNo != null and worklistNo !=  ''">
				worklist_no = #{worklistNo,jdbcType=VARCHAR},
			</if>
			<if test="paymentOrderNo != null and paymentOrderNo !=  '' ">
				payment_order_no = #{paymentOrderNo,jdbcType=VARCHAR},
			</if>
			<if test="afffirmDate != null">
				afffirm_date = #{afffirmDate,jdbcType=TIMESTAMP},
			</if>
			<if test="handlingSuggestion != null and handlingSuggestion !=  ''">
				handling_suggestion =
				#{handlingSuggestion,jdbcType=VARCHAR},
			</if>
			<if test="checkTime != null">
				check_time = #{checkTime,jdbcType=TIMESTAMP},
			</if>
			<if test="supplementTime != null">
				supplement_time = #{supplementTime,jdbcType=TIMESTAMP},
			</if>
			<if test="extendType != null and extendType !=  ''">
				extend_type = #{extendType,jdbcType=VARCHAR},
			</if>
			<if test="trueCustomerId != null and trueCustomerId != ''">
				trueCustomerId = #{trueCustomerId,jdbcType=VARCHAR},
			</if>
			<if test="updaterId != null and updaterId != ''">
				updater_id = #{updaterId,jdbcType=VARCHAR},
			</if>
			<if test="updateTime != null">
				update_time = #{updateTime,jdbcType=TIMESTAMP},
			</if>
			<if test="remark != null and remark !=  ''">
				remark = #{remark,jdbcType=LONGVARCHAR},
			</if>
			<if test="goodstype != null and goodstype != ''">
				goodsType = #{goodstype,jdbcType=INTEGER},
			</if>
		</set>
		where id = #{id,jdbcType=CHAR}
	</update>
	<update id="updateByPrimaryKeyWithBLOBs"
		parameterType="cn.szag.oms.manager.common.domain.manager.OrderImport">
		update order_import
		<set>
			<if test="orderNo != null and orderNo !=  '' ">
				order_no = #{orderNo,jdbcType=VARCHAR},
			</if>
			<if test="customerName != null and customerName !=  ''">
				customer_name = #{customerName,jdbcType=VARCHAR},
			</if>
			<if test="transportWay != null and transportWay !=  '' ">
				transport_way = #{transportWay,jdbcType=VARCHAR},
			</if>
			<if test="domesticConsigneeId != null  and domesticConsigneeId !=  '' ">
				domestic_consignee =
				#{domesticConsigneeId,jdbcType=VARCHAR},
			</if>
			<if test="overseasShipperId != null and overseasShipperId !=  '' ">
				overseas_shipper = #{overseasShipperId,jdbcType=VARCHAR},
			</if>
			<if test="extractOrderNum != null and extractOrderNum !=  ''">
				extract_order_num = #{extractOrderNum,jdbcType=VARCHAR},
			</if>
			<if test="originCountryId != null and originCountry !=  '' ">
				origin_country = #{originCountryId,jdbcType=VARCHAR},
			</if>
			<if test="destCountryId != null and destCountryId !=  '' ">
				dest_country = #{destCountryId,jdbcType=VARCHAR},
			</if>
			<if test="departurePortId != null and departurePortId !=  '' ">
				departure_port = #{departurePortId,jdbcType=VARCHAR},
			</if>
			<if test="destPortId != null and destPortId !=  '' ">
				dest_port = #{destPortId,jdbcType=VARCHAR},
			</if>
			<if test="product != null and product !=  '' ">
				product = #{product,jdbcType=VARCHAR},
			</if>
			<if test="entryPortId != null and entryPortId !=  '' ">
				entry_port = #{entryPortId,jdbcType=VARCHAR},
			</if>
			<if test="createtime != null ">
				createtime = #{createtime,jdbcType=TIMESTAMP},
			</if>
			<if test="creatorId != null and creatorId !=  '' ">
				creator_id = #{creatorId,jdbcType=VARCHAR},
			</if>
			<if test="creator != null and creator !=  '' ">
				creator = #{creator,jdbcType=VARCHAR},
			</if>
			<if test="creatorTel != null and creatorTel !=  '' ">
				creator_tel = #{creatorTel,jdbcType=VARCHAR},
			</if>
			<if test="supportStaffId != null and supportStaffId !=  '' ">
				support_staff = #{supportStaffId,jdbcType=VARCHAR},
			</if>
			<if test="supportStaffTel != null and supportStaffTel !=  '' ">
				support_staff_tel = #{supportStaffTel,jdbcType=VARCHAR},
			</if>
			<if test="delFlag != null">
				del_flag = #{delFlag,jdbcType=INTEGER},
			</if>
			<if test="orderStatus != null">
				order_status = #{orderStatus,jdbcType=INTEGER},
			</if>
			<if test="certStatus != null">
				cert_status = #{certStatus,jdbcType=INTEGER},
			</if>
			<if test="orderPlacer != null and orderPlacer !=  ''">
				order_placer = #{orderPlacer,jdbcType=VARCHAR},
			</if>
			<if test="companyCode != null and companyCode !=  ''">
				company_code = #{companyCode,jdbcType=VARCHAR},
			</if>
			<if test="orderPlacerType != null and orderPlacerType !=  ''">
				order_placer_type = #{orderPlacerType,jdbcType=VARCHAR},
			</if>
			<if test="inspectNeed != null">
				inspect_need = #{inspectNeed,jdbcType=INTEGER},
			</if>
			<if test="clearanceNeed != null">
				clearance_need = #{clearanceNeed,jdbcType=INTEGER},
			</if>
			<if test="transportNeed != null">
				transport_need = #{transportNeed,jdbcType=INTEGER},
			</if>
			<if test="paymentNeed != null">
				payment_need = #{paymentNeed,jdbcType=INTEGER},
			</if>
			<if test="advanceNeed != null">
				advance_need = #{advanceNeed,jdbcType=INTEGER},
			</if>
			<if test="consumerOrgId != null and consumerOrgId !=  ''">
				consumer_org = #{consumerOrgId,jdbcType=VARCHAR},
			</if>
			<if test="companyId != null and companyId !=  ''">
				company_id = #{companyId,jdbcType=VARCHAR},
			</if>
			<if test="salesmanId != null and salesmanId !=  ''">
				salesman = #{salesmanId,jdbcType=VARCHAR},
			</if>
			<if test="salesmanTel != null and salesmanTel !=  ''">
				salesman_tel = #{salesmanTel,jdbcType=VARCHAR},
			</if>
			<if test="orderSource != null">
				order_source = #{orderSource,jdbcType=VARCHAR},
			</if>
			<if test="closingPer != null and closingPer !=  ''">
				closing_per = #{closingPer,jdbcType=VARCHAR},
			</if>
			<if test="closingDate != null">
				closing_date = #{closingDate,jdbcType=TIMESTAMP},
			</if>
			<if test="creatorCompany != null and creatorCompany !=  ''">
				creator_company = #{creatorCompany,jdbcType=VARCHAR},
			</if>
			<if test="cusAdviceDate != null">
				cus_advice_date = #{cusAdviceDate,jdbcType=TIMESTAMP},
			</if>
			<if test="agentId != null and agentId !=  ''">
				agent = #{agentId,jdbcType=VARCHAR},
			</if>
			<if test="agentAdviceDate != null and agentAdviceDate !=  ''">
				agent_advice_date =
				#{agentAdviceDate,jdbcType=TIMESTAMP},
			</if>
			<if test="boxNo != null and boxNo !=  ''">
				box_no = #{boxNo,jdbcType=VARCHAR},
			</if>
			<if test="worklistNo != null and worklistNo !=  ''">
				worklist_no = #{worklistNo,jdbcType=VARCHAR},
			</if>
			<if test="paymentOrderNo != null and paymentOrderNo !=  '' ">
				payment_order_no = #{paymentOrderNo,jdbcType=VARCHAR},
			</if>
			<if test="afffirmDate != null">
				afffirm_date = #{afffirmDate,jdbcType=TIMESTAMP},
			</if>
			<if test="handlingSuggestion != null and handlingSuggestion !=  ''">
				handling_suggestion =
				#{handlingSuggestion,jdbcType=VARCHAR},
			</if>
			<if test="checkTime != null">
				check_time = #{checkTime,jdbcType=TIMESTAMP},
			</if>
			<if test="supplementTime != null">
				supplement_time = #{supplementTime,jdbcType=TIMESTAMP},
			</if>
			<if test="extendType != null and extendType !=  ''">
				extend_type = #{extendType,jdbcType=VARCHAR},
			</if>
			<if test="trueCustomerId != null and trueCustomerId != ''  ">
				trueCustomerId = #{trueCustomerId,jdbcType=VARCHAR},
			</if>
			<if test="updaterId != null">
				updater_id = #{updaterId,jdbcType=VARCHAR},
			</if>
			<if test="updateTime != null">
				update_time = #{updateTime,jdbcType=TIMESTAMP},
			</if>
			<if test="remark != null and remark !=  ''">
				remark = #{remark,jdbcType=LONGVARCHAR},
			</if>
			<if test="goodstype != null and goodstype != ''">
				goodsType = #{goodstype,jdbcType=INTEGER},
			</if>
			<if test="disposeStatus != null">
				disposeStatus = #{disposeStatus,jdbcType=INTEGER},
			</if>
		</set>
		where id = #{id,jdbcType=CHAR}
	</update>
	<update id="updateByPrimaryKey"
		parameterType="cn.szag.oms.manager.common.domain.manager.OrderImport">
		update order_import
		set order_no =
		#{orderNo,jdbcType=VARCHAR},
		customer_name =
		#{customerName,jdbcType=VARCHAR},
		transport_way =
		#{transportWay,jdbcType=VARCHAR},
		domestic_consignee =
		#{domesticConsigneeId,jdbcType=VARCHAR},
		overseas_shipper =
		#{overseasShipperId,jdbcType=VARCHAR},
		extract_order_num =
		#{extractOrderNum,jdbcType=VARCHAR},
		origin_country =
		#{originCountryId,jdbcType=INTEGER},
		dest_country =
		#{destCountryId,jdbcType=VARCHAR},
		departure_port =
		#{departurePortId,jdbcType=VARCHAR},
		dest_port =
		#{destPortId,jdbcType=VARCHAR},
		product = #{product,jdbcType=VARCHAR},
		entry_port = #{entryPortId,jdbcType=VARCHAR},
		createtime =
		#{createtime,jdbcType=TIMESTAMP},
		creator_id =
		#{creatorId,jdbcType=VARCHAR},
		creator = #{creator,jdbcType=VARCHAR},
		creator_tel = #{creatorTel,jdbcType=VARCHAR},
		support_staff =
		#{supportStaffId,jdbcType=VARCHAR},
		support_staff_tel =
		#{supportStaffTel,jdbcType=VARCHAR},
		del_flag =
		#{delFlag,jdbcType=INTEGER},
		order_status =
		#{orderStatus,jdbcType=INTEGER},
		cert_status =
		#{certStatus,jdbcType=INTEGER},
		order_placer =
		#{orderPlacer,jdbcType=VARCHAR},
		company_code =
		#{companyCode,jdbcType=VARCHAR},
		order_placer_type =
		#{orderPlacerType,jdbcType=VARCHAR},
		inspect_need =
		#{inspectNeed,jdbcType=INTEGER},
		clearance_need =
		#{clearanceNeed,jdbcType=INTEGER},
		transport_need =
		#{transportNeed,jdbcType=INTEGER},
		payment_need =
		#{paymentNeed,jdbcType=INTEGER},
		advance_need =
		#{advanceNeed,jdbcType=INTEGER},
		consumer_org =
		#{consumerOrgId,jdbcType=VARCHAR},
		company_id =
		#{companyId,jdbcType=VARCHAR},
		salesman =
		#{salesmanId,jdbcType=VARCHAR},
		salesman_tel =
		#{salesmanTel,jdbcType=VARCHAR},
		order_source =
		#{orderSource,jdbcType=VARCHAR},
		closing_per =
		#{closingPer,jdbcType=VARCHAR},
		closing_date =
		#{closingDate,jdbcType=TIMESTAMP},
		creator_company =
		#{creatorCompany,jdbcType=VARCHAR},
		cus_advice_date =
		#{cusAdviceDate,jdbcType=TIMESTAMP},
		agent =
		#{agentId,jdbcType=VARCHAR},
		agent_advice_date =
		#{agentAdviceDate,jdbcType=TIMESTAMP},
		box_no =
		#{boxNo,jdbcType=VARCHAR},
		worklist_no =
		#{worklistNo,jdbcType=VARCHAR},
		payment_order_no =
		#{paymentOrderNo,jdbcType=VARCHAR},
		trueCustomerId =
		#{trueCustomerId,jdbcType=VARCHAR},
		updater_id =
		#{updaterId,jdbcType=VARCHAR},
		update_time =
		#{updateTime,jdbcType=TIMESTAMP},
		afffirm_date =
		#{afffirmDate,jdbcType=TIMESTAMP}
		where id = #{id,jdbcType=CHAR}
	</update>

	<!--自助下单的返回信息字段 -->
	<sql id="automaticOrder_Column_List">
		oi.id,
		oi.order_no,
		oi.customer_name,
		oi.transport_way,
		oi.domestic_consignee
		as domesticConsigneeId,
		oi.overseas_shipper as
		overseasShipperId,
		oi.extract_order_num,
		oi.origin_country as
		originCountryId,
		oi.dest_country as
		destCountryId,
		oi.departure_port as
		departurePortId,
		oi.dest_port as
		destPortId,
		oi.product,
		oi.entry_port as
		entryPortId,
		oi.createtime,
		oi.creator_id,
		oi.creator,
		oi.creator_tel,
		oi.support_staff as supportStaffId,
		oi.support_staff_tel,
		oi.del_flag,
		oi.order_status, oi.cert_status, oi.order_placer,
		oi.company_code,
		oi.order_placer_type,
		oi.inspect_need, oi.clearance_need,
		oi.transport_need,
		oi.payment_need, oi.advance_need,
		oi.consumer_org as
		consumerOrgId,
		oi.company_id,
		oi.salesman salesmanId,
		oi.salesman_tel,
		oi.order_source,oi.closing_per, oi.closing_date,
		oi.creator_company,
		oi.cus_advice_date, oi.agent agentId, oi.agent_advice_date, oi.box_no,
		oi.worklist_no, oi.payment_order_no,
		oi.afffirm_date,
		oi.handling_suggestion,
		oi.check_time, oi.supplement_time,
		oi.extend_type, oi.trueCustomerId,
		oi.updater_id,
		oi.update_time,
		oi.goodsType
	</sql>

	<!-- (SELECT name FROM base_country WHERE oi.dest_country = id) AS dest_country, -->
	<sql id="subqueryBlob_Column_List">
		(SELECT name FROM base_customer WHERE oi.domestic_consignee
		= id) AS domestic_consignee ,
		(SELECT name FROM base_customer WHERE
		oi.overseas_shipper = id) AS
		overseas_shipper ,
		(SELECT name FROM
		base_customer WHERE oi.consumer_org = id) AS consumer_org ,
		(SELECT
		name FROM base_customer WHERE oi.agent = id) AS agent,
		(SELECT
		ename FROM base_customer WHERE oi.agent = id) AS agentEName,
		(SELECT name_cn
		FROM
		base_code_nationality WHERE oi.origin_country = id) AS
		origin_country,
		(SELECT name FROM base_port WHERE oi.departure_port =
		id)
		AS
		departure_port,
		(SELECT name FROM base_port WHERE oi.dest_port =
		id)
		AS dest_port,
		(SELECT name FROM base_port WHERE oi.entry_port = id)
		AS
		entry_port,
		(SELECT username FROM base_user WHERE oi.support_staff =
		id) AS
		support_staff,
		(SELECT username FROM base_user WHERE oi.salesman
		= id) AS salesman,
		(SELECT name FROM base_customer WHERE
		oi.trueCustomerId = id) AS trueCustomer

	</sql>

	<sql id="automaticOrderBlob_Column_List">
		oi.remark
	</sql>



	<sql id="automaticBoxNo_Column_List">
		distinct ows.id,
		ows.schedule_status,
		ows.worklist_no,
		ows.box_no,
		ows.createdate,
		oi.order_status,
		oi.cert_status,
		oi.order_no,
		oi.customer_name,
		oi.transport_way,
		oi.cus_advice_date,
		oi.origin_country as originCountryId,
		oi.dest_port as destPortId,
		oi.product,
		oi.dest_country as destCountryId,
		oi.departure_port as
		departurePortId,
		oi.support_staff as supportStaffId,
		oi.agent as
		agentId,
		oi.order_source
	</sql>

	<sql id="standard_Column_List">
		ows.is_abnormal ,
		ows.is_evaluation ,
		ows.quantity ,
		ows.type
		AS businessType,
		ows.score,
		osi.arrive_time
	</sql>


	<select id="findByExtractOrderNum" parameterType="java.lang.String"
		resultType="java.lang.Integer">
		SELECT count(*) FROM order_import WHERE
		extract_order_num =
		#{extractOrderNum}
		<if test="id != null">
			and id =#{id}
		</if>
	</select>

	<select id="selectAll" resultType="java.lang.String">
		select distinct
		<!-- 查询客户名称 -->
		<if test="automaticOrder.keyword == 1">
			oi.customer_name
		</if>
		<!-- 查询订单号 -->
		<if test="automaticOrder.keyword == 2">
			oi.order_no
		</if>
		<!-- 查询柜号 -->
		<if test="automaticOrder.keyword == 3">
			oi.box_no
		</if>
		<!-- 查询提单号 -->
		<if test="automaticOrder.keyword == 4">
			oi.extract_order_num
		</if>
		<!-- 查询货物 -->
		<if test="automaticOrder.keyword == 5">
			oi.product
		</if>
		<!-- 查询工作单号 -->
		<if test="automaticOrder.keyword == 6">
			worklist_no
		</if>
		FROM order_import oi
		WHERE del_flag = 0
		<if
			test="automaticOrder.customerName != null and automaticOrder.customerName !=''">
			and oi.customer_name LIKE
			CONCAT('%',#{automaticOrder.customerName},'%')
		</if>
		<!-- 查询本人 -->
		<if test="user.dataPermission == 0">
			AND
			IF(
			EXISTS(SELECT * FROM base_role br INNER JOIN
			base_rolemember brm ON br.id = brm.role_id WHERE
			brm.user_id=#{user.id,jdbcType=VARCHAR} AND br.name like "%客服%"),
			oi.support_staff = #{user.id,jdbcType=VARCHAR},
			oi.id =
			#{user.username,jdbcType=VARCHAR})
		</if>
		<!-- 查询本部门 -->
		<if test="user.dataPermission == 1">
			AND IF(
			EXISTS(SELECT * FROM base_role br INNER JOIN
			base_rolemember brm ON br.id = brm.role_id WHERE
			brm.user_id=#{user.id,jdbcType=VARCHAR} AND br.name like "%客服%"),
			oi.support_staff in (SELECT id FROM base_user WHERE dpname
			=#{user.dpname,jdbcType=VARCHAR}),
			oi.salesman in (SELECT id FROM
			base_user WHERE dpname = #{user.dpname,jdbcType=VARCHAR}))
		</if>
	</select>




	<select id="selectAll2" resultMap="BaseResultMap">
		select distinct
		<!-- 查询客户名称 -->
		<if test="automaticOrder.keyword == 1">
			oi.customer_name
		</if>
		<!-- 查询柜号 -->
		<if test="automaticOrder.keyword == 2">
			oi.box_no
		</if>
		<!-- 查询提单号 -->
		<if test="automaticOrder.keyword == 3">
			oi.extract_order_num
		</if>
		FROM order_import oi
		WHERE del_flag = 0
		<if
			test="automaticOrder.customerName != null and automaticOrder.customerName !=''">
			and oi.customer_name LIKE
			CONCAT('%',#{automaticOrder.customerName},'%')
		</if>
		<if test="automaticOrder.boxNo != null and automaticOrder.boxNo !=''">
			and oi.box_no LIKE
			CONCAT('%',#{automaticOrder.boxNo},'%')
		</if>
		<if
			test="automaticOrder.extractOrderNum  != null and automaticOrder.extractOrderNum !=''">
			and oi.extract_order_num LIKE
			CONCAT('%',#{automaticOrder.extractOrderNum},'%')
		</if>
		<!-- 查询本人 -->
		<if test="user.dataPermission == 0">
			AND
			IF(
			EXISTS(SELECT * FROM base_role br INNER JOIN
			base_rolemember brm ON br.id = brm.role_id WHERE
			brm.user_id=#{user.id,jdbcType=VARCHAR} AND br.name like "%客服%"),
			oi.support_staff = #{user.id,jdbcType=VARCHAR},
			oi.id =
			#{user.username,jdbcType=VARCHAR})
		</if>
		<!-- 查询本部门 -->
		<if test="user.dataPermission == 1">
			AND IF(
			EXISTS(SELECT * FROM base_role br INNER JOIN
			base_rolemember brm ON br.id = brm.role_id WHERE
			brm.user_id=#{user.id,jdbcType=VARCHAR} AND br.name like "%客服%"),
			oi.support_staff in (SELECT id FROM base_user WHERE dpname
			=#{user.dpname,jdbcType=VARCHAR}),
			oi.salesman in (SELECT id FROM
			base_user WHERE dpname = #{user.dpname,jdbcType=VARCHAR}))
		</if>
	</select>
	<select id="selectByPrimaryKey" resultMap="BaseResultMap"
		parameterType="java.lang.String">
		SELECT
		<include refid="automaticOrder_Column_List" />
		,
		<include refid="automaticOrderBlob_Column_List" />
		,
		<include refid="subqueryBlob_Column_List" />
		from order_import oi
		<if test="containerId != null and  containerId != '' ">
			INNER JOIN order_worklist_status ows ON
			ows.order_id =
			oi.id
			WHERE ows.id=#{containerId}
		</if>
		<if test="id != null and id != '' ">
			where id = #{id,jdbcType=CHAR}
			and del_flag = '0'
		</if>
	</select>


	<select id="findId" resultMap="BaseResultMap">
		SELECT
		<include refid="automaticOrder_Column_List" />
		,
		<include refid="automaticOrderBlob_Column_List" />
		,
		<include refid="subqueryBlob_Column_List" />
		from order_import oi
		<if test="order.orderId != null and  order.orderId != '' ">
			INNER JOIN order_worklist_status ows ON
			ows.order_id =
			oi.id
			WHERE ows.id=#{order.containerId}
		</if>
		where id = #{order.id,jdbcType=CHAR}
		and delFlag = '0'
	</select>

	<!--通过用户的权限条件查询 订单查询 -->
	<select id="orderTrackingList" resultMap="BaseResultMap">
		select
		<include refid="automaticBoxNo_Column_List" />
		,
		<include refid="subqueryBlob_Column_List" />
		FROM order_import AS oi
		left JOIN order_worklist_status ows ON ows.order_id=oi.id
		WHERE oi.del_flag = 0
		<if test="automaticOrder.keyword == 1">
			and oi.order_status = 0
		</if>
		<if test="automaticOrder.keyword == 2">
		    and oi.order_status in ("4","2")
			and oi.cert_status = 0
		</if>
		<if test="automaticOrder.keyword == 3">
			and oi.order_status = 0 and oi.createtime <![CDATA[>=]]>
			DATE_SUB(NOW(), INTERVAL 1
			DAY);
		</if>
		<!-- 查询本人 -->
		<if test="user.dataPermission == 0">
			AND
			IF(
			EXISTS(SELECT * FROM base_role br INNER JOIN
			base_rolemember brm ON br.id = brm.role_id WHERE
			brm.user_id=#{user.id,jdbcType=VARCHAR} AND br.name like "%客服%"),
			oi.support_staff = #{user.id,jdbcType=VARCHAR},
			oi.id =
			#{user.username,jdbcType=VARCHAR})

		</if>
		<!-- 查询本部门 -->
		<if test="user.dataPermission == 1">
			AND IF(
			EXISTS(SELECT * FROM base_role br INNER JOIN
			base_rolemember brm ON br.id = brm.role_id WHERE
			brm.user_id=#{user.id,jdbcType=VARCHAR} AND br.name like "%客服%"),
			oi.support_staff in (SELECT id FROM base_user WHERE dpname
			=#{user.dpname,jdbcType=VARCHAR}),
			oi.salesman in (SELECT id FROM
			base_user WHERE dpname = #{user.dpname,jdbcType=VARCHAR}))

		</if>
		ORDER BY oi.createtime Desc
	</select>


	<select id="findOrderNo" resultMap="BaseResultMap"
		parameterType="java.lang.String">
		select
		<include refid="Base_Column_List" />
		FROM order_import WHERE order_no LIKE CONCAT('%',#{orderNo},'%')
		ORDER
		BY
		order_no DESC LIMIT 1;
	</select>


	<select id="findcustomerId" resultMap="BaseResultMap"
		parameterType="java.lang.String">
		SELECT 
			bcs.id,
			bcs.salesman_id as salesmanId,
			bu.username AS salesman ,
			bu.tel AS salesmanTel,
			bcs.service_id AS supportStaffId,
			bu2.username AS supportStaff,
			bu2.tel AS supportStaffTel,
			IF(bcs.origin = "西货",1,0) AS goodsType
			 FROM base_customer_servicerelation bcs
			LEFT JOIN base_user bu ON bu.id = bcs.salesman_id
			LEFT JOIN base_user bu2 ON bu2.id = bcs.service_id
			WHERE 1=1
		<if test="companyId != null and companyId != '' ">
			and bcs.customer_id = #{companyId}
		</if>

		<if test="origin != null and origin != ''">
			and bcs.origin = #{origin}
		</if>

		<if test="inport != null and inport != ''">
			and bcs.inport = #{inport}
		</if>
		LIMIT 1;

	</select>




	<!--通过用户的权限条件查询 进口列表页 -->
	<select id="standardImportList" resultType="cn.szag.oms.manager.common.domain.manager.Attention">
		select
		oi.id,
		ows.schedule_status as scheduleStatus,
		oi.transport_way AS
		transportWay,
		bc.`name` AS customerName,
		bc.ename AS customerEName,
		ows.box_no AS boxNo,
		bcn.name_cn AS originCountryName,
		bcn.name_en AS originCountryEName,
		ows.product,
		oi.cert_status AS
		certStatus,
		ows.is_abnormal AS isAbnormal,
		ows.isbill,
		IFNULL(oa.is_attention,0) AS
		isAttention,
		oa.id AS attentionId,
		osi.arrive_time AS arriveTime,
		ows.quantity,
		ows.id AS
		containerId,
		ows.type AS businessType,
		ows.is_evaluation AS isEvaluation,
		oi.order_source AS orderSource
		FROM order_worklist_status ows
		INNER JOIN order_import oi ON oi.id = ows.order_id
		INNER JOIN
		order_shipping_info osi ON osi.order_id = ows.order_id
		LEFT JOIN
		order_attention oa ON oa.container_id = ows.id
		LEFT JOIN
		base_code_nationality bcn ON bcn.id = oi.origin_country
		LEFT JOIN
		order_evaluation_score oes ON oes.order_id = ows.order_id
		LEFT JOIN base_customer bc ON bc.id = oi.trueCustomerId
		WHERE ows.del_flag = 0
			<!-- 未到港 -->
			<if test="automaticOrder.scheduleStatus == 1">
				and ows.schedule_status = 0
			</if>
			<!-- 码头出闸（待提货） -->
			<if test="automaticOrder.scheduleStatus == 2">
				and ows.schedule_status in ('1','2')
			</if>
			<!-- 待报空 -->
			<if test="automaticOrder.scheduleStatus == 3">
				and ows.schedule_status in (6)
			</if>
			<!-- 待还箱 -->
			<if test="automaticOrder.scheduleStatus == 4">
				and ows.schedule_status in (7)
			</if>
			<!-- 全部 -->
			<if test="automaticOrder.scheduleStatus == 5">
				and ows.schedule_status in (0,1,2,3,4,5,6,7,8,9)
			</if>
			<!-- 今日到港 -->
			<if test="automaticOrder.extentStatus == 1">
				AND to_days(osi.expect_arrive_time) = to_days(now()) AND
				ows.schedule_status = "0"
			</if>
			<!-- 明日到港 -->
			<if test="automaticOrder.extentStatus == 2">
				AND to_days(osi.expect_arrive_time) =
				TO_DAYS(DATE_SUB(curdate(),INTERVAL -1 DAY)) AND ows.schedule_status
				= "0"
			</if>
			<!-- 两天后到港 -->
			<if test="automaticOrder.extentStatus == 3">
				AND to_days(osi.expect_arrive_time) >=
				TO_DAYS(DATE_SUB(curdate(),INTERVAL -2 DAY)) AND ows.schedule_status
				= "0"
			</if>
			<!-- 未报空 -->
			<if test="automaticOrder.extentStatus == 4">
				and ows.empty_time is null
			</if>
			<!-- 免箱逾期 -->
			<if test="automaticOrder.extentStatus == 5">
				AND
				ows.schedule_status in ("7")
				AND boxfree_period &lt; now()
			</if>
			<!-- 免舱逾期 -->
			<if test="automaticOrder.extentStatus == 6">
				AND
				ows.schedule_status in ("2","3")
				AND free_demurrage &lt; now()

			</if>
			<!-- 未还箱 -->
			<if test="automaticOrder.extentStatus == 7">
				AND
				ows.schedule_status in ("6","7")
			</if>
			<!-- 已到港24小时未提柜 -->
			<if test="automaticOrder.extentStatus == 8">
				AND to_days(osi.arrive_time) = TO_DAYS(NOW())
				AND ows.schedule_status in ("1")
			</if>
			<!-- 评分低于两分 -->
			<if test="automaticOrder.extentStatus == 9">
				AND oes.score BETWEEN 0 AND 2

			</if>
			<if test="automaticOrder.orderNo != null and automaticOrder.orderNo != ''">
				and oi.order_no LIKE
				CONCAT('%',#{automaticOrder.orderNo},'%')
			</if>
			<if test="automaticOrder.destPort != null and automaticOrder.destPort != ''">
				and oi.dest_port in (SELECT id FROM base_port WHERE name
				LIKE CONCAT('%',#{automaticOrder.destPort},'%'))
			</if>

			<if test="automaticOrder.transportWay != null and automaticOrder.transportWay != ''">
				and oi.transport_way = #{automaticOrder.transportWay}
			</if>
			<if test="automaticOrder.originCountry != null and automaticOrder.originCountry != ''">
				and oi.origin_country IN (SELECT id FROM
				base_code_nationality
				WHERE name_cn LIKE
				CONCAT('%',#{automaticOrder.originCountry},'%'))
			</if>
			<if test="automaticOrder.extractOrderNum != null and automaticOrder.extractOrderNum != ''">
				and oi.extract_order_num like
				CONCAT('%',#{automaticOrder.extractOrderNum},'%')
			</if>
			<if test="automaticOrder.extractOrdernum != null and automaticOrder.extractOrdernum != ''">
				and oi.extract_order_num like
				CONCAT('%',#{automaticOrder.extractOrdernum},'%')
			</if>
			<if test="automaticOrder.boxNo != null and automaticOrder.boxNo != ''">
				and ows.box_no LIKE
				CONCAT('%',#{automaticOrder.boxNo},'%')
			</if>
			<if test="automaticOrder.product != null and automaticOrder.product != ''">
				and oi.product LIKE
				CONCAT('%',#{automaticOrder.product},'%')
			</if>
			<if test="automaticOrder.cusAdviceDateStart != null and automaticOrder.cusAdviceDateStart != ''">
				and oi.cus_advice_date &gt;=
				#{automaticOrder.cusAdviceDateStart}
			</if>
			<if test="automaticOrder.cusAdviceDateEnd != null and automaticOrder.cusAdviceDateEnd != ''">
				and oi.cus_advice_date &lt;=
				#{automaticOrder.cusAdviceDateEnd}
			</if>
			<if test="automaticOrder.arriveTimeStart != null and automaticOrder.arriveTimeStart != ''">
				and osi.arrive_time &gt;=
				#{automaticOrder.arriveTimeStart}
			</if>
			<if test="automaticOrder.arriveTimeEnd != null and automaticOrder.arriveTimeEnd != ''">
				and osi.arrive_time &lt;= #{automaticOrder.arriveTimeEnd}
			</if>
			<if test="automaticOrder.shipInfo != null and automaticOrder.shipInfo != ''">
				and osi.ship_info LIKE
				CONCAT('%',#{automaticOrder.shipInfo},'%') 
			</if>

			<if test="automaticOrder.ifEmpty != null and automaticOrder.ifEmpty != ''">
				and ows.isempty  =  #{automaticOrder.ifEmpty}
			</if>
			<!-- 查询本人 -->
			<if test="user.dataPermission == 0">
				AND
				IF(
				EXISTS(SELECT * FROM base_role br INNER JOIN
				base_rolemember brm ON br.id = brm.role_id WHERE
				brm.user_id=#{user.id,jdbcType=VARCHAR} AND br.name like "%客服%"),
				oi.support_staff = #{user.id,jdbcType=VARCHAR},
				oi.id =
				#{user.username,jdbcType=VARCHAR})

			</if>
			<!-- 查询本部门 -->
			<if test="user.dataPermission == 1">
				AND IF(
				EXISTS(SELECT * FROM base_role br INNER JOIN
				base_rolemember brm ON br.id = brm.role_id WHERE
				brm.user_id=#{user.id,jdbcType=VARCHAR} AND br.name like "%客服%"),
				oi.support_staff in (SELECT id FROM base_user WHERE dpname
				=#{user.dpname,jdbcType=VARCHAR}),
				oi.salesman in (SELECT id FROM
				base_user WHERE dpname = #{user.dpname,jdbcType=VARCHAR}))
			</if>
		GROUP BY ows.id
		ORDER BY oi.createtime Desc
		
		
	</select>

	<!--通过用户的权限查询总数 -->
	<select id="selectCount" resultType="java.lang.Integer">
		select count(*)
		from order_import oi
		where oi.del_flag = 0
		<if test="automaticOrder.orderStatus != null ">
			<if test='automaticOrder.orderStatus == 0 '>
				and oi.order_status in ("0")
			</if>
			<if test='automaticOrder.orderStatus == 4 '>
				and oi.order_status in ("4","2") and oi.cert_status = '0'
			</if>
		</if>
		<!-- 查询本人 -->
		<if test="user.dataPermission == 0">
			AND
			IF(
			EXISTS(SELECT * FROM base_role br INNER JOIN
			base_rolemember brm ON br.id = brm.role_id WHERE
			brm.user_id=#{user.id,jdbcType=VARCHAR} AND br.name like "%客服%"),
			oi.support_staff = #{user.id,jdbcType=VARCHAR},
			oi.id =
			#{user.username,jdbcType=VARCHAR})

		</if>
		<!-- 查询本部门 -->
		<if test="user.dataPermission == 1">
			AND IF(
			EXISTS(SELECT * FROM base_role br INNER JOIN
			base_rolemember brm ON br.id = brm.role_id WHERE
			brm.user_id=#{user.id,jdbcType=VARCHAR} AND br.name like "%客服%"),
			oi.support_staff in (SELECT id FROM base_user WHERE dpname
			=#{user.dpname,jdbcType=VARCHAR}),
			oi.salesman in (SELECT id FROM
			base_user WHERE dpname = #{user.dpname,jdbcType=VARCHAR}))

		</if>
	</select>

	<!--通过用户的权限条件查询 -->
	<select id="selectList" resultMap="BaseResultMap">
		select
		<include refid="automaticOrder_Column_List" />
		,
		<include refid="automaticOrderBlob_Column_List" />
		,
		<include refid="subqueryBlob_Column_List" />
		<if test='automaticOrder.orderStatus == "3" '>
			,
			(SELECT h.createtime FROM order_status_history AS h WHERE
			h.status = 2 AND
			h.order_id=oi.id ORDER BY h.createtime DESC LIMIT 1)
			AS sendTime
		</if>
		from order_import oi
		where oi.del_flag = 0
		<if test="automaticOrder.id != null">
			and oi.id = #{automaticOrder.id}
		</if>
		<if test="automaticOrder.orderStatus != null ">
			<if test='automaticOrder.orderStatus == 0 '>
				and oi.order_status in ("0","1","6")
			</if>
			<if test='automaticOrder.orderStatus == 4 '>
				and oi.order_status in ("4","2")

			</if>
			<if test='automaticOrder.orderStatus == 1 '>
				and oi.order_status in ("0")

			</if>
			<if
				test='automaticOrder.orderStatus != 0 and automaticOrder.orderStatus != 4 and automaticOrder.orderStatus != 1'>
				and oi.order_status = #{automaticOrder.orderStatus}

			</if>
		</if>
		<if test="automaticOrder.orderNo != null and automaticOrder.orderNo != ''">
			and oi.order_no LIKE
			CONCAT('%',#{automaticOrder.orderNo},'%')
		</if>
		<if
			test="automaticOrder.extractOrderNum != null and automaticOrder.extractOrderNum != ''">
			and oi.extract_order_num LIKE
			CONCAT('%',#{automaticOrder.extractOrderNum},'%')

		</if>
		<if
			test="automaticOrder.transportWay != null and automaticOrder.transportWay !=''">
			and oi.transport_way = #{automaticOrder.transportWay}
		</if>
		<if
			test="automaticOrder.domesticConsignee != null and automaticOrder.domesticConsignee !='' ">
			and oi.domestic_consignee IN (SELECT id FROM base_customer
			WHERE
			name LIKE CONCAT('%',#{automaticOrder.domesticConsignee},'%'))

		</if>
		<if
			test="automaticOrder.overseasShipper != null and automaticOrder.overseasShipper != '' ">
			and oi.overseas_shipper IN (SELECT id FROM base_customer
			WHERE
			name LIKE CONCAT('%',#{automaticOrder.overseasShipper},'%'))


		</if>
		<if
			test="automaticOrder.customerName != null and automaticOrder.customerName != ''">
			and oi.customer_name LIKE
			CONCAT('%',#{automaticOrder.customerName},'%')
		</if>
		<if
			test="automaticOrder.originCountry != null and automaticOrder.originCountry != ''">
			and oi.origin_country IN (SELECT id FROM base_code_nationality
			WHERE name_cn
			LIKE CONCAT('%',#{automaticOrder.originCountry},'%'))
		</if>
		<!-- <if test="automaticOrder.extractOrderNum != null and automaticOrder.extractOrderNum 
			!= ''"> and oi.extract_order_num LIKE CONCAT('%',#{automaticOrder.extractOrderNum},'%') 
			</if> -->
		<if test="automaticOrder.product != null and automaticOrder.product !=''">
			and oi.product LIKE CONCAT('%',
			#{automaticOrder.product},'%')
		</if>
		<if test="automaticOrder.startAdvcusTime != null ">
			and oi.cus_advice_date &gt;=
			#{automaticOrder.startAdvcusTime}
		</if>
		<if test="automaticOrder.endAdvcusTime != null ">
			and oi.cus_advice_date &lt;=
			#{automaticOrder.endAdvcusTime}
		</if>
		<if test="automaticOrder.startCreatTime != null ">
			and oi.createtime &gt;= #{automaticOrder.startCreatTime}
		</if>
		<if test="automaticOrder.endCreatTime != null">
			and oi.createtime &lt;= #{automaticOrder.endCreatTime}
		</if>
		<if test="automaticOrder.startCheckTime != null ">
			and oi.check_time &gt;= #{automaticOrder.startCheckTime}
		</if>
		<if test="automaticOrder.endCheckTime != null">
			and oi.check_time &lt;= #{automaticOrder.endCheckTime }
		</if>
		<if test="automaticOrder.creator != null and automaticOrder.creator != ''">
			and oi.creator LIKE CONCAT('%',
			#{automaticOrder.creator},'%')
		</if>
		<if test="automaticOrder.boxNo!= null and automaticOrder.boxNo!= '' ">
			and oi.box_no LIKE
			CONCAT('%',
			#{automaticOrder.boxNo},'%')
		</if>
		<if
			test="automaticOrder.worklistNo != null and automaticOrder.worklistNo !='' ">
			and oi.worklist_no LIKE
			CONCAT('%',
			#{automaticOrder.worklistNo},'%')
		</if>
		<if
			test="automaticOrder.consumerOrg != null and automaticOrder.consumerOrg != '' ">
			AND oi.consumer_org IN (SELECT id FROM base_customer WHERE
			name
			LIKE CONCAT('%',#{automaticOrder.consumerOrg},'%'))
		</if>
		<if test="automaticOrder.certStatus != null ">
			AND oi.cert_status = #{automaticOrder.certStatus}
		</if>

		<!-- 查询本人 -->
		<if test="user.dataPermission == 0">
			AND
			IF(
			EXISTS(SELECT * FROM base_role br INNER JOIN
			base_rolemember brm ON br.id = brm.role_id WHERE
			brm.user_id=#{user.id,jdbcType=VARCHAR} AND br.name like "%客服%"),
			oi.support_staff = #{user.id,jdbcType=VARCHAR},
			oi.id =
			#{user.username,jdbcType=VARCHAR})

		</if>
		<!-- 查询本部门 -->
		<if test="user.dataPermission == 1">
			AND IF(
			EXISTS(SELECT * FROM base_role br INNER JOIN
			base_rolemember brm ON br.id = brm.role_id WHERE
			brm.user_id=#{user.id,jdbcType=VARCHAR} AND br.name like "%客服%"),
			oi.support_staff in (SELECT id FROM base_user WHERE dpname
			=#{user.dpname,jdbcType=VARCHAR}),
			oi.salesman in (SELECT id FROM
			base_user WHERE dpname = #{user.dpname,jdbcType=VARCHAR}))

		</if>
		ORDER BY oi.createtime Desc
	</select>


	<!--通过用户的权限条件查询 -->
	<select id="findlistBy24" resultMap="BaseResultMap">
		select
		<include refid="automaticOrder_Column_List" />
		from order_import oi ,order_worklist_status ows
		where oi.id =
		ows.order_id
		<if test="automaticOrder.id != null">
			and oi.id = #{automaticOrder.id}
		</if>
		<if test="automaticOrder.orderNo != null">
			and oi.order_no = #{automaticOrder.orderNo}
		</if>
		<if test="automaticOrder.transportWay != null">
			and oi.transport_way = #{automaticOrder.transportWay}
		</if>
		<if test="automaticOrder.domesticConsignee != null">
			and oi.domestic_consignee IN (SELECT id FROM base_customer
			WHERE name LIKE CONCAT('%',#{automaticOrder.domesticConsignee},'%'))

		</if>
		<if test="automaticOrder.overseasShipper != null">
			and oi.overseas_shipper IN (SELECT id FROM base_customer
			WHERE name LIKE CONCAT('%',#{automaticOrder.overseasShipper},'%'))


		</if>
		<if test="automaticOrder.customerName != null">
			and oi.customer_name = #{automaticOrder.customerName}
		</if>
		<if test="automaticOrder.originCountry != null">
			and oi.origin_country IN (SELECT id FROM
			base_code_nationality
			WHERE name_cn LIKE
			CONCAT('%',#{automaticOrder.originCountry},'%'))
		</if>
		<if test="automaticOrder.extractOrderNum != null">
			and oi.extract_order_num =
			#{automaticOrder.extractOrderNum}
		</if>
		<if test="automaticOrder.product != null">
			and oi.product = #{automaticOrder.product}
		</if>
		<if test="automaticOrder.startAdvcusTime != null">
			and oi.cus_advice_date &gt;=
			#{automaticOrder.startAdvcusTime}
		</if>
		<if test="automaticOrder.endAdvcusTime != null">
			and oi.cus_advice_date &lt;=
			#{automaticOrder.endAdvcusTime}
		</if>
		<if test="automaticOrder.startCreatTime != null">
			and oi.createtime &gt;= #{automaticOrder.startCreatTime}
		</if>
		<if test="automaticOrder.endCreatTime != null">
			and oi.createtime &lt;= #{automaticOrder.endCreatTime}
		</if>
		<if test="automaticOrder.creator != null">
			and oi.creator = #{automaticOrder.creator}
		</if>
		<if test="automaticOrder.boxNo!= null">
			and oi.box_no = #{automaticOrder.boxNo}
		</if>
		<if test="automaticOrder.worklistNo != null">
			and oi.worklist_no = #{automaticOrder.worklistNo}
		</if>
		<if test="automaticOrder.consumerOrg != null">
			AND oi.consumer_org IN (SELECT id FROM base_customer WHERE
			name LIKE CONCAT('%',#{automaticOrder.consumerOrg},'%'))
		</if>
		<!-- 查询本人 -->
		<if test="user.dataPermission == 0">
			AND
			IF(
			EXISTS(SELECT * FROM base_role br INNER JOIN
			base_rolemember brm ON br.id = brm.role_id WHERE
			brm.user_id=#{user.id,jdbcType=VARCHAR} AND br.name like "%客服%"),
			oi.support_staff = #{user.id,jdbcType=VARCHAR},
			oi.id =
			#{user.username,jdbcType=VARCHAR})

		</if>
		<!-- 查询本部门 -->
		<if test="user.dataPermission == 1">
			AND IF(
			EXISTS(SELECT * FROM base_role br INNER JOIN
			base_rolemember brm ON br.id = brm.role_id WHERE
			brm.user_id=#{user.id,jdbcType=VARCHAR} AND br.name like "%客服%"),
			oi.support_staff in (SELECT id FROM base_user WHERE dpname
			=#{user.dpname,jdbcType=VARCHAR}),
			oi.salesman in (SELECT id FROM
			base_user WHERE dpname = #{user.dpname,jdbcType=VARCHAR}))

		</if>
		and oi.del_flag = 0 and oi.order_status = 0 and oi.cus_advice_date
		&lt;= DATE_ADD(now(), INTERVAL -1 DAY) ORDER BY oi.createtime Desc
	</select>


	<select id="selectByOrderNO" parameterType="string" resultMap="BaseResultMap">
		SELECT
		<include refid="Base_Column_List" />
		FROM order_import
		where extract_order_num =
		#{extractOrderNum,jdbcType=VARCHAR }
	</select>

	<!--查询当天的订单数目 -->
	<select id="findAll" resultType="int">
		SELECT count(*) FROM
		order_import WHERE DATE_FORMAT( createtime,'%Y-%m-%d')
		=
		DATE_FORMAT(NOW(), '%Y-%m-%d');
	</select>


</mapper>